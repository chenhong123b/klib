<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Klib by kooxiv</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Klib</h1>
        <h2>Sqlite orm 、HttpClient、imageView/Bitmap Cache 、Gson for android</h2>
        <a href="https://github.com/kooxiv/klib" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="klib-for-android" class="anchor" href="#klib-for-android"><span class="octicon octicon-link"></span></a>KLIB for Android</h1>

<p>数据、网络请求、图片处理</p>

<pre><code>            .android-async-http-1.4.3.jar
            .sqlite-simple-2.4.jar
            .universal-image-loader-1.8.4.jar
            .gson-2.2.4.jar
            .android-support-v4.jar
</code></pre>

<h1></h1>

<h3>
<a name="kdbclient" class="anchor" href="#kdbclient"><span class="octicon octicon-link"></span></a>KDbClient:</h3>

<p>一.extends KApp,实现creatDbTables():</p>

<pre><code>public class MyApp extends KApp {

    @Override
    protected void creatDbTables() {

        SQLiteSimple databaseSimple = new SQLiteSimple(this); 

            //or
            //new SQLiteSimple(context, DatabaseName);
            //new SQLiteSimple(context, DataVersion);

        databaseSimple.create(Record.class);

    }
}
</code></pre>

<p>修改AndroidManifest.xml application节点为自己的类(for example: android:name="com.kooxiv.example.MyApp").</p>

<p>二.修改Model:</p>

<pre><code>public class Record {
    public transient static final String COLUMN_RECORD_TEXT = "text";
    public transient static final String COLUMN_ID = "_id";

    @Column(name = COLUMN_ID, type = ColumnType.INTEGER, isPrimaryKey = true, isAutoincrement = true)
    public int id;

    //@SerializedName("text")
    @Column
    public String text;

    //@SerializedName("number")
    @Column
    public int number;

    //@SerializedName is for Gson
}
</code></pre>

<p>三.使用:</p>

<pre><code>KDbClient&lt;Record&gt; dbClient = new KDbClient&lt;Record&gt;(this, Record.class);

//增************************************
    Record record = new Record();
    record.text = "record";
    //可重复添加记录
    dbClient.create(record);

    //检查Record.COLUMN_RECORD_TEXT这列是否存在record.text这个值,有则不添加记录
    dbClient.createIfNotExist(record, Record.COLUMN_RECORD_TEXT, record.text);

    //dbClient.createIfNotExist(object, COLUMN_NAME1, COLUMN_VALUE1,COLUMN_NAME2, COLUMN_VALUE2);
    ...........

//查**************
    List&lt;Record&gt; list = dbClient.readAllDesc();
    dbClient.read(id);
    dbClient.readWhere(columnName, columnValue);
    .......

//删*****************
    dbClient.deleteAll();
    dbClient.deleteWhere(columnName, columnValue);
    ..............

//改*************
    dbClient.update(id, newObject);
    dbClient.update(columnName, columnValue, newObject);
    ..........
</code></pre>

<h1></h1>

<h3>
<a name="khttpclient" class="anchor" href="#khttpclient"><span class="octicon octicon-link"></span></a>KHttpClient</h3>

<pre><code>            Params params = new Params();

            // params.put(KEY, Value)
            params.put("username", "111@gmail.com");
            params.put("password", "123456");

            // GET
            KHttpClient&lt;Record&gt; httpClient = new KHttpClient&lt;Record&gt;(this,
                    Record.class) {

                @Override
                protected void onSuccess(int statusCode, Record entity) {

                    if (statusCode == 200) {
                        // ...........
                    }
                    super.onSuccess(statusCode, entity);

                }
            };

            // httpClient.setTimeout(20*1000);
            //httpClient.setUserAgent("android httpclient");

            httpClient.get("http://www.www.com", params);

            // POST

            params.put("file", new File("path"));
            params.put("inputstream",
                    getResources().openRawResource(R.raw.uploadfile));
            httpClient.post("http://www.www.com", params);
</code></pre>

<p>...</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/kooxiv/klib/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/kooxiv/klib/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/kooxiv/klib"></a> is maintained by <a href="https://github.com/kooxiv">kooxiv</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>